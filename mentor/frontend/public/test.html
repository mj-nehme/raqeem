<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Mentor Frontend Test (public)</title>
  <style>
    body {
      font-family: Arial;
      padding: 1rem
    }

    pre {
      background: #f4f4f4;
      padding: 1rem;
      border-radius: 6px
    }
  </style>
</head>

<body>
  <h1>Mentor Frontend — Public Test Page</h1>
  <p>This page calls <code>/activities</code> on the backend and shows the raw JSON.</p>
  <button id="btn">Fetch /activities</button>
  <div id="status" style="margin-top:8px;color:#333"></div>
  <pre id="out">(no data)</pre>
  <script>
    // Use Vite dev server proxy by calling relative path "/api/activities".
    // The proxy target is configured in vite.config.js using VITE_MENTOR_API_URL.
    document.getElementById('btn').addEventListener('click', async () => {
      const status = document.getElementById('status');
      const out = document.getElementById('out');
      status.textContent = 'Fetching…';
      out.textContent = '';
      try {
        const res = await fetch('/api/activities', { credentials: 'include' });
        const txt = await res.text();
        status.textContent = `HTTP ${res.status}`;
        out.textContent = txt;
      } catch (e) {
        status.textContent = 'Error: Load failed';
        out.textContent = String(e);
      }
    });
  </script>
</body>

</html>